{% extends 'core/base.html' %}
{% block content %}
<h2>{% if pago %}Editar Pago{% else %}Nuevo Pago{% endif %}</h2>
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="alumno" class="form-label">Alumno</label>
        <select name="alumno" id="alumno" class="form-select" required>
            <option value="">Seleccione...</option>
            {% for a in alumnos %}
            <option value="{{ a.pk }}" {% if pago and pago.alumno.pk == a.pk %}selected{% endif %}>{{ a }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label for="forma_pago" class="form-label">Forma de Pago</label>
        <select name="forma_pago" id="forma_pago" class="form-select" required>
            <option value="">Seleccione...</option>
            {% for f in formas_pago %}
            <option value="{{ f.pk }}" {% if pago and pago.forma_pago.pk == f.pk %}selected{% endif %}>{{ f }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label for="importe" class="form-label">Importe</label>
        <input type="number" step="0.01" name="importe" id="importe" class="form-control" required value="{{ pago.importe|default:'' }}">
    </div>
    <div class="mb-3">
        <label for="fecha" class="form-label">Fecha</label>
        <input type="date" name="fecha" id="fecha" class="form-control" required value="{{ pago.fecha|default:'' }}">
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
    <a href="{% url 'pagos_list' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
